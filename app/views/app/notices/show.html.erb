<% set_meta_tags title: "The orbituary notice for #{@notice.name}",
description:
  "Honoring the life of #{@notice.name}, who touched the hearts of many. Read their full obituary, learn about upcoming funeral services, and share your memories and condolences with family and friends. Celebrate their legacy and keep their memory alive through heartfelt tributes and stories" %>

<% set_meta_tags og: {
  title: "The orbituary notice for #{@notice.name}",
  keywords:
    "obituary for [Name], [Name] obituary, funeral notice for [Name], memorial for [Name], tribute to [Name], [Name] life story, [Name] death notice, [Name] funeral details, condolences for [Name], honor [Name], remembering [Name], [Name] funeral service, celebration of life for [Name], legacy of [Name], [Name] remembrance, share memories of [Name], [Name] obituary Zimbabwe, online obituary for [Name], [Name] funeral arrangements, [Name] memorial page.".gsub(
      "[Name]",
      @notice.name,
    ),
  description:
    "Honoring the life of #{@notice.name}, who touched the hearts of many. Read their full obituary, learn about upcoming funeral services, and share your memories and condolences with family and friends. Celebrate their legacy and keep their memory alive through heartfelt tributes and stories",
  image:
    (
      if @notice.images.attached?
        polymorphic_url(@notice.images.first)
      else
        image_url("notice_2.jpg")
      end
    ),
} %>

<% set_meta_tags twitter: {
  title: "The orbituary notice for #{@notice.name}",
  keywords:
    "obituary for [Name], [Name] obituary, funeral notice for [Name], memorial for [Name], tribute to [Name], [Name] life story, [Name] death notice, [Name] funeral details, condolences for [Name], honor [Name], remembering [Name], [Name] funeral service, celebration of life for [Name], legacy of [Name], [Name] remembrance, share memories of [Name], [Name] obituary Zimbabwe, online obituary for [Name], [Name] funeral arrangements, [Name] memorial page.".gsub(
      "[Name]",
      @notice.name,
    ),
  description:
    "Honoring the life of #{@notice.name}, who touched the hearts of many. Read their full obituary, learn about upcoming funeral services, and share your memories and condolences with family and friends. Celebrate their legacy and keep their memory alive through heartfelt tributes and stories",
  image:
    (
      if @notice.images.attached?
        polymorphic_url(@notice.images.first)
      else
        image_url("notice_2.jpg")
      end
    ),
} %>

<div>
  <div class="p-4 mb-4 rounded border">
    <div class="flex flex-col justify-between p-4 leading-normal">
      <p class="mb-1 font-normal text-center text-gray-500 dark:text-gray-400">
        The orbituary notice for
      </p>

      <h5
        class="mb-1 text-2xl font-semibold tracking-tight text-center text-gray-600"
      >
        <%= @notice.first_name %>
        <% if @notice.nickname.present? %>
          (<%= @notice.nickname %>)
        <% end %>
        <%= @notice.last_name %>
      </h5>
      <p class="mb-1 font-normal text-center text-gray-500 dark:text-gray-400">
        <%= @notice.location %>
        | published in:
        <%= @notice.platform %>
      </p>
    </div>
  </div>

  <div class="flex flex-col space-y-5 md:flex-row md:space-y-0 md:space-x-5">
    <div class="w-full md:w-4/12">
      <div class="overflow-hidden relative p-4 mb-4 rounded border">

        <div class="overflow-hidden swiper-container" data-controller="swiper">
          <div class="swiper-wrapper">

            <% if @notice.images.attached? %>
              <% @notice.images.each do |image| %>
                <div class="swiper-slide">
                  <%= image_tag image, class: " w-full h-auto object-contain rounded-lg  md:h-auto" %>
                </div>
              <% end %>
            <% else %>
              <div class="h-48 swiper-slide">
                <%= image_tag "notice_2.jpg",
                class: "object-cover w-full h-96 rounded-lg aspect-square md:h-36" %>
              </div>
            <% end %>

          </div>
          <!-- Pagination -->
          <div class="swiper-pagination"></div>
          <!-- Navigation -->
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </div>
    </div>

    <div class="w-full md:w-8/12">
      <div class="p-4 mb-4 rounded border">
        <h5 class="mb-1 font-semibold tracking-tight md:text-lg text-slate-800">
          <%= @notice.first_name %>
          <% if @notice.nickname.present? %>
            (<%= @notice.nickname %>)
          <% end %>
          <%= @notice.last_name %>
        </h5>

        <p class="mb-1 font-normal text-gray-700 dark:text-gray-400">
          <%= @notice.wording.html_safe %>
        </p>

        <div
          class="flex flex-col justify-center mt-6 space-y-4 w-full md:flex-row md:space-y-0"
        >
          <div class="w-full md:w-1/2">
            <a href="#" class="text-lg text-blue-900 underline dark:text-blue-gray-300">
              <i class="text-orange-600 bi bi-bell"></i>
              Keep me informed for updates
            </a>
          </div>

          <div class="md:ml-auto">
            <button
              disabled class="btn-primary">Leave a tribute for
              <%= @notice.first_name %>
              (Coming soon)
            </button>
          </div>
        </div>

      </div>

      <div class="p-4 mb-4 rounded border">
        <div>
          <span class="text-sm font-medium text-gray-800 dark:text-gray-400">
            Published:
            <%= @notice.created_at.strftime("%B %d, %Y") %>
          </span>

        </div>
      </div>

      <div class="p-4 mb-4 rounded border">
        <h5 class="mb-1 font-semibold tracking-tight md:text-lg text-slate-800">
          Want to celebrate a loved one's life?
        </h5>

        <p class="mb-1 font-normal text-gray-700 dark:text-gray-400">
          Create your own everlasting tribute today
        </p>
        <div class="flex mt-6 w-full">
          <div class="w-1/2">
            <%= link_to "Create a tribute", new_notice_path, class: "btn-primary" %>
          </div>
        </div>
      </div>

    </div>

  </div>

</div>
